<!-- <script src="http://github.hubspot.com/odometer/odometer.js"></script>
<style>
    <link rel="stylesheet" href="http://github.hubspot.com/odometer/themes/odometer-theme-car.css" />
</style> -->
<ion-header>
    <ion-navbar color="primary">
        <ion-title>Form!</ion-title>
        <!-- <ion-buttons large end>
                <button ion-button outline clear (click)="dismiss()"><div id="odometer" class="odometer">{{odo}}</div></button>
        </ion-buttons> -->
    </ion-navbar>
</ion-header>


<ion-content padding id="listScroll" style="font-family:Avenir Next , sans-serif;" class="mycolor">

    <p></p>
    <div *ngIf="showSpinner" style="text-align:center;margin-top:150px;">
            <img  src="http://www.plateforme-re-sources.org/wp-content/uploads/2018/06/lg.rotating-balls-spinner.gif"/>
            <h4>Calculating score...</h4>
          </div>
 
    <div id="quiz" *ngIf="data != undefined && data.quiz != undefined && mode === 'quiz' && !showSpinner">
        <div class="center">
            <h3>{{projectTitle}}</h3>
            <h4> {{data.quiz.name|| "Assessment"}}</h4>
            <img height="80" width="80" src="{{data.quiz.logo}}" (click)="openHelp()" />
            <div id="odometer" class="odometer">11{{score}}</div>
            <!-- <div id="odometer" class="odometer">{{odometer}}</div> -->
        </div>

        <ion-card>

            <ion-item>

                <p style="text-align:center">Question {{questionNumber}} of {{questions.length}}.</p>
            </ion-item>
            <!-- <ion-card-header>
            </ion-card-header> -->

            <ion-card-content>
                <ion-item>
                    <h3 style="margin-top:-0rem;white-space:normal;">{{question.Description}}&nbsp;
                        <ion-icon item-center (click)="openHelp()" name="help-circle"></ion-icon>
                    </h3>
                </ion-item>
                <div style="text-align:center">
                    <img *ngIf="question.Pic" src="{{question.Pic}}" style="width:25%" />
                </div>
                <ion-item class="item item-text-wrap item-divider " style="font-weight:bold">{{question.Name}}</ion-item>
                <ion-list radio-group [(ngModel)]="question.answer">

                    <ion-item *ngFor="let option of question.Options">
                        <ion-radio item-left value="{{option.Name}}"></ion-radio>
                        <ion-label>{{option.Name}}</ion-label>
                    </ion-item>


                    <!-- <div *ngFor="let option of question.Options">
                        <ion-item>

                            <ion-checkbox color="primary" checked="false" [(ngModel)]="option.Selected"></ion-checkbox>
                            <ion-label> {{option.Name}}</ion-label>
                        </ion-item>
                    </div> -->
                </ion-list>

            </ion-card-content>


            <br />

        </ion-card>

        <div style="text-align:center">

            <button *ngIf="questionNumber!=1" (click)="left()" ion-button icon-left>
                <ion-icon name="arrow-back"></ion-icon>
                Prev
            </button>

            <button [hidden]="questionNumber == questions.length" (click)="right()" ion-button icon-left>
                Next &nbsp;
                <ion-icon name="arrow-forward"></ion-icon>
            </button>

        </div>
        <div style="text-align:center">
            <button (click)="presentAbortConfirm()" color="danger" ion-button icon-left>
                <ion-icon name="close"></ion-icon>
                Abort
            </button>

            <button (click)="setMode('review')" ion-button icon-left>
                <ion-icon name="list"></ion-icon>
                Review
            </button>


            <button (click)="presentSubmitConfirm()" ion-button icon-left>
                Submit &nbsp;
                <ion-icon name="checkmark-circle-outline"></ion-icon>
            </button>

        </div>
    </div>


    <p></p>


    <div *ngIf="mode=='review' && !showSpinner" class="review">
        <p></p>
        <div *ngFor="let question of questions; let i = index;">
            <div (click)="goTo(i + 1)" class="{{ isAnswered(question) == 'Answered'? 'answered': 'not-answered' }}">{{i + 1}}. {{ isAnswered(question) }}</div>
        </div>
        <p></p>
        <button ion-button (click)="setMode('quiz')"> Back </button>
    </div>



    <div class="center result" *ngIf="mode=='result' && !showSpinner">
            <p></p>
            <ion-card>
                <ion-item>
                    <ion-avatar item-left>
                        <img src="https://vignette.wikia.nocookie.net/mysims/images/2/22/EA_logo.png/revision/latest?cb=20090801182220">
                    </ion-avatar>
                    <h2>Score Card</h2>
                    <p>{{verdict}}</p>
                </ion-item>
                <hr/>
    
                <ion-grid>
                    <ion-row>
                        <ion-col  >
                            <div style="text-align:center;width:60%">
                                <img src="https://communications.fidelity.com/pi/calculators/saving-for-retirement/assets/images/rpm-dial.png"/>

                                <!-- <img src="assets/data/dial1.png"/> -->
                            </div>
                        </ion-col>
                        <ion-col>
                                <div class="item item-body">
                    
                                    <div class="row">
                                        <div class="col col-80">Total 1Questions</div>
                                        <div class="col col-20">{{questions.length}}</div>
                                    </div>
                    
                                    <div class="row">
                                        <div class="col col-80">Total attempted</div>
                                        <div class="col col-20">{{attempted}}</div>
                                    </div>
                    
                                    <div class="row">
                                        <div class="col col-80">Your score</div>
                                        <div class="col col-20"><strong>{{score}} %</strong></div>
                                    </div>
                                    <div class="row">
                                        <div class="col col-80"><strong>Result</strong></div>
                                        <div class="col col-20"><strong>Aligned</strong></div>
                                    </div>
                                    <hr/>
                                    <p><strong>Explanation: </strong>Although the phrase is nonsense, it does have a long history. The phrase has been used for several centuries by typographers to show the most distinctive features of their fonts. It is used because the letters involved and the letter spacing in those combinations reveal, at their best, the weight, design, and other important features of the typeface.</p>
                                    <p><strong>Recommendations: </strong> A 1994 issue of "Before & After" magazine traces "Lorem ipsum ..." to a jumbled Latin version of a passage from de Finibus Bonorum et Malorum, a treatise on the theory of ethics written by Cicero in 45 B.C. The passage "Lorem ipsum ..." is taken from text that reads, "Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit ...," which translates as, "There is no one who loves pain itself, who seeks after it and wants to have it, simply because it is pain..."
                                        </p>
                                    <!-- <img class="full-image" height="150" width="100" ng-src="data/img/table.jpg"> -->
                                    <p class="center">
                                        <button ion-button (click)="closeResults()">Close</button>
                                    </p>
                    
                                </div></ion-col>
                    </ion-row>
                </ion-grid>
            </ion-card>
            <p></p>
    
    
    
            <p class="center">
                Your responses are highlighted in green.
            </p>
            <div *ngFor="let question of questions; let i = index">
                <div class="result-question">
                    <h3>{{i + 1}}. {{question.Name}}</h3>
                    <div class="result-options">
                        <div *ngFor="let Option of question.Options">
                            <label class="{{  question.answer == Option.Name ? 'result-correct': 'result-incorrect' }}"> 
                                <input id="{{Option.Id}}" type="checkbox" disabled="disabled" readonly="readonly" [checked]="question.answer == Option.Name" /> {{Option.Name}}
                            </label>
                        </div>
                    </div>
                    <p></p>
                </div>
            </div>
            <div class="center">
                <button ion-button (click)="closeResults()">Close</button>
            </div>
    
    
        </div>
    


    <ion-menu [content]="mycontent" id="menu2" side="right" width="500">

        <ion-header>
            <ion-toolbar color="grey">
                <ion-title>Help1</ion-title>
                <ion-buttons large end>
                    <button ion-button outline clear menuClose="menu2">
                        <ion-icon style="font-size:3rem;font-weight:bold;" name="close"></ion-icon>
                    </button>
                </ion-buttons>


            </ion-toolbar>
        </ion-header>

        <ion-content>
            <ion-list>
                <div [innerHTML]="somedata"></div>
                <p>&nbsp;</p>
                <div>
                    Was this helpful?
                    <button ion-button color="light" outline>No</button>
                    <button ion-button color="light" outline>Yes</button>
                </div>
            </ion-list>



        </ion-content>

    </ion-menu>


</ion-content>

<ion-nav [root]="ListPage" #mycontent swipeBackEnabled="false"></ion-nav>